project:
  type: website

website:
  page-navigation: true
  title: "Xorq"
  description: "A modern data processing library focused on composability, portability and performance in critical path of ML."
  favicon: "style/favicon.ico"

  page-footer:
    center: "This page is built with [Quarto](https://quarto.org/)."

  navbar:
    logo: "images/xorq-light-mode-logo.png"
    align: center
    title: false
    collapse-below: lg
    search: true

    right:
      - icon: github
        href: https://github.com/xorq-labs/xorq

    left:
      - sidebar:user-guide
      - href: reference/index.qmd


  sidebar:
    - id: user-guide
      title: "User Guide"
      collapse-level: 2
      contents:
        - id: user-guide-section
          section: "User Guide"
          contents:
            - href: getting_started/quickstart.qmd
        - id: core-concepts-section
          section: "Core Concepts"
          contents:
            - href: core_concepts/caching.qmd
            - href: core_concepts/multi_engine.qmd
            - href: core_concepts/udxf.qmd
            - href: core_concepts/build.qmd
            - href: core_concepts/profiles_guide.qmd
        - id: vignettes-section
          section: "Vignettes"
          contents:
            - href: vignettes/duckdb_concurrent.qmd
            - href: vignettes/mcp_flight_server.qmd
        - id: tutorials-section
          section: "Tutorials"
          contents:
            - href: tutorials/hn_data_prep.qmd
            - href: tutorials/hn_transform_tfidf.qmd
            - href: tutorials/hn_training_xgb.qmd
            - href: tutorials/hn_serving.qmd

    - id: api-reference
      title: "Reference"
      collapse-level: 2
      contents:
        - id: core-operations-section
          section: "Core Operations"
          contents:
            - reference/read_csv.qmd
            - reference/read_parquet.qmd
            - reference/memtable.qmd
            - reference/to_sql.qmd
            - reference/execute.qmd
            - reference/to_pyarrow_batches.qmd
            - reference/to_pyarrow.qmd
            - reference/to_parquet.qmd
            - reference/to_csv.qmd
            - reference/to_json.qmd
        - id: data-operations-section
          section: "Data Operations"
          contents:
            - reference/Table.qmd
            - reference/GroupedTable.qmd
            - reference/Value.qmd
            - reference/Scalar.qmd
            - reference/Column.qmd
            - reference/NumericColumn.qmd
            - reference/IntegerColumn.qmd
            - reference/FloatingColumn.qmd
            - reference/StringValue.qmd
            - reference/TimeValue.qmd
            - reference/DateValue.qmd
            - reference/DayOfWeek.qmd
            - reference/TimestampValue.qmd
            - reference/IntervalValue.qmd
        - id: machine-learning-operations-section
          section: "Machine Learning Operations"
          contents:
            - reference/train_test_splits.qmd
            - reference/Step.qmd
            - reference/Pipeline.qmd


format:
  html:
    theme:
      dark:  ["darkly", "style/dark.scss"]
      light: ["flatly", "style/light.scss"]
    toc: true
    code-copy: true
    code-overflow: wrap
    include-in-header: "style/google.html"

quartodoc:
  package: xorq
  title: Reference
  sidebar: reference/_sidebar.yml
  render_interlinks: true
  renderer: _renderer.py
  options:
    signature_name: short
  sections:
    - title: Core Operations
      desc: "APIs for reading and returning data"
      contents:
        - name: read_csv
          dynamic: true
          signature_name: full
          package: xorq
        - name: read_parquet
          dynamic: true
          signature_name: full
          package: xorq
        - name: memtable
          dynamic: true
          signature_name: full
          package: xorq
        - name: to_sql
          dynamic: true
          signature_name: full
          package: xorq
        - name: execute
          dynamic: true
          signature_name: full
          package: xorq
        - name: to_pyarrow_batches
          dynamic: true
          signature_name: full
          package: xorq
        - name: to_pyarrow
          dynamic: true
          signature_name: full
          package: xorq
        - name: to_parquet
          dynamic: true
          signature_name: full
          package: xorq
        - name: to_csv
          dynamic: true
          signature_name: full
          package: xorq
        - name: to_json
          dynamic: true
          signature_name: full
          package: xorq

    - title: Data Operations
      desc:
      contents:
        - name: Table
          include_inherited: true
          package: xorq.vendor.ibis.expr.types.relations
        - name: GroupedTable
          package: xorq.vendor.ibis.expr.types.groupby
        - name: Value
          package: xorq.vendor.ibis.expr.types.generic
        - name: Scalar
          package: xorq.vendor.ibis.expr.types.generic
        - name: Column
          package: xorq.vendor.ibis.expr.types.generic
        - name: NumericColumn
          package: xorq.vendor.ibis.expr.types.numeric
        - name: IntegerColumn
          package: xorq.vendor.ibis.expr.types.numeric
        - name: FloatingColumn
          package: xorq.vendor.ibis.expr.types.numeric
        - name: StringValue
          package: xorq.vendor.ibis.expr.types.strings
        - name: TimeValue
          package: xorq.vendor.ibis.expr.types.temporal
        - name: DateValue
          package: xorq.vendor.ibis.expr.types.temporal
        - name: DayOfWeek
          package: xorq.vendor.ibis.expr.types.temporal
        - name: TimestampValue
          package: xorq.vendor.ibis.expr.types.temporal
        - name: IntervalValue
          package: xorq.vendor.ibis.expr.types.temporal

    - title: Machine Learning Operations
      package: xorq.expr.ml
      desc: "Machine Learning Functions and Helpers"
      contents:
        - train_test_splits
        - Step
        - Pipeline